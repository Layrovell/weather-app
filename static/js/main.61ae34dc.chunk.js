(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),i=n(8),a=n.n(i),r=(n(13),n(3)),l=n(7),o=n(2),d=(n(14),n(15),n(0)),j=function(){return Object(d.jsx)("header",{children:Object(d.jsx)("h1",{className:"header__title",children:"Weather?"})})},u=n(24),b=function(e){return fetch("".concat("https://api.openweathermap.org/data/2.5/","weather?q=").concat(e,"&units=metric&APPID=").concat("be2e56e9809ab02e33a32ab7bba23488")).then((function(e){return e.json()}))},m=function(e,t,n){t({id:e.id,name:e.name,temp:e.main.temp,feels:e.main.feels_like,wind:e.wind.speed,humidity:e.main.humidity,pressure:e.main.pressure,tempMax:e.main.temp_max,tempMin:e.main.temp_min,country:e.sys.country,sunrise:e.sys.sunrise,sunset:e.sys.sunset,description:e.weather[0].description,icon:e.weather[0].icon,title:e.weather[0].main}),n&&n("")},h=(n(17),function(e){var t=e.onAddNewLocation,n=Object(c.useState)(""),s=Object(o.a)(n,2),i=s[0],a=s[1],r=Object(c.useState)(!0),l=Object(o.a)(r,2),j=l[0],h=l[1],p=Object(c.useState)(!1),O=Object(o.a)(p,2),x=O[0],f=O[1],_=Object(u.a)(i);Object(c.useEffect)((function(){h(!i),i!==_&&f(!1)}),[i]);var N=function(e){e.preventDefault(),i&&b(i).then((function(e){return m(e,t,a)})).catch((function(e){console.log(e),f(!0)}))};return Object(d.jsx)("section",{className:"search__box",children:Object(d.jsxs)("form",{className:"wrapper is-flex is-relative",onSubmit:N,children:[Object(d.jsx)("input",{value:i,onChange:function(e){a(e.target.value)},className:"input mr-4 ".concat(x?"is-danger":"is-primary"),type:"text",name:"input",placeholder:"Type your city"}),x?Object(d.jsx)("p",{className:"help is-danger is-absolute",children:"Can't find a city"}):"",Object(d.jsx)("button",{disabled:j,onClick:N,type:"button",className:"button is-primary is-outlined",children:"Add"})]})})}),p=(n(18),n(19),n(20),function(e){var t=e.setModalActive,n=e.children;return Object(d.jsx)("div",{className:"modalw",onClick:function(){t(!1)},children:Object(d.jsxs)("div",{className:"modal__content",children:[n,Object(d.jsx)("div",{className:"has-text-centered mt-2",children:Object(d.jsx)("button",{onClick:function(){t(!1)},type:"button",className:"button is-success is-small",children:"Close"})})]})})}),O=function(e){var t=e.onAddNewLocation,n=e.handleDeleteElement,s=e.id,i=e.name,a=e.card,l=Object(c.useState)(!1),j=Object(o.a)(l,2),u=j[0],h=j[1],O=function(e){var t=new Date(1e3*e);return String(t.getHours())};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("div",{className:"card__image-container",children:Object(d.jsx)("img",{className:"is-scale",src:"https://openweathermap.org/img/wn/".concat(a.icon,"@2x.png"),ali:"weather"})}),Object(d.jsxs)("div",{className:"card__content",children:[Object(d.jsx)("p",{className:"card__title",children:a.name}),Object(d.jsxs)("p",{className:"card__info",children:["Date:",Object(d.jsx)("span",{children:(new Date).toJSON().slice(0,10).replace(/-/g,"/")})]}),Object(d.jsxs)("p",{className:"card__info",children:["Temperature:",Object(d.jsx)("span",{children:a.temp.toFixed(0)})]}),Object(d.jsxs)("p",{className:"card__info",children:["Feels like:",Object(d.jsx)("span",{children:a.feels.toFixed(0)})]}),Object(d.jsxs)("p",{className:"card__info",children:["Wind:",Object(d.jsx)("span",{children:a.wind})]}),Object(d.jsxs)("div",{className:"has-text-center mt-4",children:[Object(d.jsx)("button",{onClick:function(){h(!0)},className:"is-rounded button is-link is-inverted is-small",type:"button",children:"Details"}),Object(d.jsx)("button",{onClick:function(){b(i).then((function(e){return m(Object(r.a)({},e),t)})).catch((function(e){return console.log(e)}))},className:"is-rounded button is-success is-inverted is-small",type:"button",children:"Update"}),Object(d.jsx)("button",{onClick:function(){n(s)},className:"is-rounded is-danger is-inverted button is-small",type:"button",children:"Delete"})]})]})]}),u&&Object(d.jsx)(p,{modalActive:u,setModalActive:h,card:a,children:Object(d.jsx)("div",{className:"intro",children:Object(d.jsxs)("div",{className:"intro__content",children:[Object(d.jsx)("p",{className:"intro__timezone",children:i}),Object(d.jsx)("hr",{}),Object(d.jsxs)("p",{className:"intro__title",children:["Temperature",Object(d.jsx)("span",{children:a.temp})]}),Object(d.jsxs)("p",{className:"intro__title",children:["Feels like",Object(d.jsx)("span",{children:a.feels})]}),Object(d.jsxs)("p",{className:"intro__title",children:["Min temperature",Object(d.jsx)("span",{children:a.tempMin})]}),Object(d.jsxs)("p",{className:"intro__title",children:["Max temperature",Object(d.jsx)("span",{children:a.tempMax})]}),Object(d.jsxs)("p",{className:"intro__title",children:["Humidity",Object(d.jsx)("span",{children:a.humidity})]}),Object(d.jsxs)("p",{className:"intro__title",children:["Pressure",Object(d.jsx)("span",{children:a.pressure})]}),Object(d.jsxs)("p",{className:"intro__title",children:["Sunrise",Object(d.jsxs)("span",{children:[O(a.sunrise)," ","a.m."]})]}),Object(d.jsxs)("p",{className:"intro__title",children:["Sunset",Object(d.jsxs)("span",{children:[O(a.sunset)," ","p.m."]})]}),Object(d.jsxs)("p",{className:"intro__title",children:["Country",Object(d.jsx)("span",{children:a.country})]}),Object(d.jsxs)("p",{className:"intro__title",children:["Timezone id",Object(d.jsx)("span",{children:a.id})]})]})})})]})},x=function(e){var t=e.cards,n=e.refresh,c=e.handleDeleteElement,s=e.onAddNewLocation;return Object(d.jsx)("section",{className:"cards__list",children:Object(d.jsx)("article",{className:"cards__list--items",children:t&&t.map((function(e,t){return Object(d.jsx)(O,Object(r.a)({card:e,refresh:n,handleDeleteElement:c,onAddNewLocation:s},e),t.toString())}))})})};var f=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1],i=function(e){var t=n.findIndex((function(t){return t.id===e.id}));if(t>-1){var c=Object(l.a)(n);c[t]=Object(r.a)(Object(r.a)({},c[t]),e),s(c)}else s([e].concat(Object(l.a)(n)))};return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(j,{}),Object(d.jsx)(h,{cards:n,onAddNewLocation:i}),Object(d.jsx)(x,{onAddNewLocation:i,cards:n,handleDeleteElement:function(e){s(n.filter((function(t){return t.id!==e})))}})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),i(e),a(e)}))};n(21);a.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(f,{})}),document.getElementById("root")),_()}],[[22,1,2]]]);
//# sourceMappingURL=main.61ae34dc.chunk.js.map