(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),i=n(16),a=n(14),r=n.n(a),l=(n(21),n(4)),o=n(12),d=n(3),j=(n(22),n(23),n(0)),u=function(){return Object(j.jsx)("header",{children:Object(j.jsx)("h1",{className:"header__title",children:"Weather?"})})},b=n(37),m=function(e){return fetch("".concat("https://api.openweathermap.org/data/2.5/","weather?q=").concat(e,"&units=metric&APPID=").concat("be2e56e9809ab02e33a32ab7bba23488")).then((function(e){return e.json()}))},h=function(e,t,n){t({id:e.id,name:e.name,temp:e.main.temp,feels:e.main.feels_like,wind:e.wind.speed,humidity:e.main.humidity,pressure:e.main.pressure,tempMax:e.main.temp_max,tempMin:e.main.temp_min,country:e.sys.country,sunrise:e.sys.sunrise,sunset:e.sys.sunset,description:e.weather[0].description,icon:e.weather[0].icon,title:e.weather[0].main}),n&&n("")},p=(n(25),function(e){var t=e.onAddNewLocation,n=Object(c.useState)(""),s=Object(d.a)(n,2),i=s[0],a=s[1],r=Object(c.useState)(!0),l=Object(d.a)(r,2),o=l[0],u=l[1],p=Object(c.useState)(!1),O=Object(d.a)(p,2),x=O[0],f=O[1],_=Object(b.a)(i);Object(c.useEffect)((function(){u(!i),i!==_&&f(!1)}),[i]);var N=function(e){e.preventDefault(),i&&m(i).then((function(e){return h(e,t,a)})).catch((function(e){console.log(e),f(!0)}))};return Object(j.jsx)("section",{className:"search__box",children:Object(j.jsxs)("form",{className:"wrapper is-flex is-relative",onSubmit:N,children:[Object(j.jsx)("input",{value:i,onChange:function(e){a(e.target.value)},className:"input mr-4 ".concat(x?"is-danger":"is-primary"),type:"text",name:"input",placeholder:"Type your city"}),x?Object(j.jsx)("p",{className:"help is-danger is-absolute",children:"Can't find a city"}):"",Object(j.jsx)("button",{disabled:o,onClick:N,type:"button",className:"button is-primary is-outlined",children:"Add"})]})})}),O=(n(26),n(27),n(28),function(e){var t=e.setModalActive,n=e.children;return Object(j.jsx)("div",{className:"modalw",onClick:function(){t(!1)},children:Object(j.jsxs)("div",{className:"modal__content",children:[n,Object(j.jsx)("div",{className:"has-text-centered mt-2",children:Object(j.jsx)("button",{onClick:function(){t(!1)},type:"button",className:"button is-success is-small",children:"Close"})})]})})}),x=function(e){var t=e.onAddNewLocation,n=e.handleDeleteElement,s=e.id,i=e.name,a=e.card,r=Object(c.useState)(!1),o=Object(d.a)(r,2),u=o[0],b=o[1],p=function(e){var t=new Date(1e3*e);return String(t.getHours())};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card__image-container",children:Object(j.jsx)("img",{className:"is-scale",src:"https://openweathermap.org/img/wn/".concat(a.icon,"@2x.png"),alt:"weather"})}),Object(j.jsxs)("div",{className:"card__content",children:[Object(j.jsx)("p",{className:"card__title",children:a.name}),Object(j.jsxs)("p",{className:"card__info",children:["Date:",Object(j.jsx)("span",{children:(new Date).toJSON().slice(0,10).replace(/-/g,"/")})]}),Object(j.jsxs)("p",{className:"card__info",children:["Temperature:",Object(j.jsx)("span",{children:a.temp.toFixed(0)})]}),Object(j.jsxs)("p",{className:"card__info",children:["Feels like:",Object(j.jsx)("span",{children:a.feels.toFixed(0)})]}),Object(j.jsxs)("p",{className:"card__info",children:["Wind:",Object(j.jsx)("span",{children:a.wind})]}),Object(j.jsxs)("div",{className:"has-text-center mt-4",children:[Object(j.jsx)("button",{onClick:function(){b(!0)},className:"is-rounded button is-link is-inverted is-small",type:"button",children:"Details"}),Object(j.jsx)("button",{onClick:function(){m(i).then((function(e){return h(Object(l.a)({},e),t)})).catch((function(e){return e}))},className:"is-rounded button is-success is-inverted is-small",type:"button",children:"Update"}),Object(j.jsx)("button",{onClick:function(){n(s)},className:"is-rounded is-danger is-inverted button is-small",type:"button",children:"Delete"})]})]})]}),u&&Object(j.jsx)(O,{modalActive:u,setModalActive:b,card:a,children:Object(j.jsx)("div",{className:"intro",children:Object(j.jsxs)("div",{className:"intro__content",children:[Object(j.jsx)("p",{className:"intro__timezone",children:i}),Object(j.jsx)("hr",{}),Object(j.jsxs)("p",{className:"intro__title",children:["Temperature",Object(j.jsx)("span",{children:a.temp})]}),Object(j.jsxs)("p",{className:"intro__title",children:["Feels like",Object(j.jsx)("span",{children:a.feels})]}),Object(j.jsxs)("p",{className:"intro__title",children:["Min temperature",Object(j.jsx)("span",{children:a.tempMin})]}),Object(j.jsxs)("p",{className:"intro__title",children:["Max temperature",Object(j.jsx)("span",{children:a.tempMax})]}),Object(j.jsxs)("p",{className:"intro__title",children:["Humidity",Object(j.jsx)("span",{children:a.humidity})]}),Object(j.jsxs)("p",{className:"intro__title",children:["Pressure",Object(j.jsx)("span",{children:a.pressure})]}),Object(j.jsxs)("p",{className:"intro__title",children:["Sunrise",Object(j.jsxs)("span",{children:[p(a.sunrise)," ","a.m."]})]}),Object(j.jsxs)("p",{className:"intro__title",children:["Sunset",Object(j.jsxs)("span",{children:[p(a.sunset)," ","p.m."]})]}),Object(j.jsxs)("p",{className:"intro__title",children:["Country",Object(j.jsx)("span",{children:a.country})]}),Object(j.jsxs)("p",{className:"intro__title",children:["Timezone id",Object(j.jsx)("span",{children:a.id})]})]})})})]})},f=function(e){var t=e.cards,n=e.refresh,c=e.handleDeleteElement,s=e.onAddNewLocation;return Object(j.jsx)("section",{className:"cards__list",children:Object(j.jsx)("article",{className:"cards__list--items",children:t&&t.map((function(e,t){return Object(j.jsx)(x,Object(l.a)({card:e,refresh:n,handleDeleteElement:c,onAddNewLocation:s},e),t.toString())}))})})};var _=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],s=t[1];Object(c.useEffect)((function(){var e=localStorage.getItem("cards");e&&s(JSON.parse(e))}),[]),Object(c.useEffect)((function(){localStorage.setItem("cards",JSON.stringify(n))}),[n]);var i=function(e){var t=n.findIndex((function(t){return t.id===e.id}));if(t>-1){var c=Object(o.a)(n);c[t]=Object(l.a)(Object(l.a)({},c[t]),e),s(c)}else s([e].concat(Object(o.a)(n)))};return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(u,{}),Object(j.jsx)(p,{cards:n,onAddNewLocation:i}),Object(j.jsx)(f,{onAddNewLocation:i,cards:n,handleDeleteElement:function(e){s(n.filter((function(t){return t.id!==e})))}})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),i(e),a(e)}))};n(29);r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(_,{})})}),document.getElementById("root")),N()}},[[35,1,2]]]);
//# sourceMappingURL=main.0b47f3c1.chunk.js.map